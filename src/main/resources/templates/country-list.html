<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Country and Regions</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

<div class="container mt-5">
    <h2 class="text-center text-success">Country and Regions</h2>

    <!-- Select Country -->
    <div class="mb-3">
        <label for="countrySelect" class="form-label">Select Country</label>
        <select id="countrySelect" class="form-select">
            <option value="">-- Select Country --</option>
        </select>
    </div>

    <!-- Select Region -->
    <div class="mb-3">
        <label for="regionSelect" class="form-label">Select Region</label>
        <select id="regionSelect" class="form-select">
           

    <!-- Offcanvas for Adding New Region -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="addRegionOffcanvas" aria-labelledby="addRegionOffcanvasLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="addRegionOffcanvasLabel">Add New Region</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <form id="addRegionForm">
                <div class="mb-3">
                    <label for="regionName" class="form-label">Region Name</label>
                    <input type="text" class="form-control" id="regionName" placeholder="Enter region name" required>
                </div>
                <div class="mb-3">
                    <label for="regionCountry" class="form-label">Country</label>
                    <select id="regionCountry" class="form-select" required>
                        <option value="">-- Select Country --</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-success">Save</button>
            </form>
        </div>
    </div>
</div>

<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    $(document).ready(function() {
        // Sample data for countries and regions
        var countries = {
            "US": "United States",
            "CA": "Canada",
            "GB": "United Kingdom"
        };

        var regions = {
            "US": ["California", "Texas", "New York"],
            "CA": ["Ontario", "Quebec", "British Columbia"],
            "GB": ["England", "Scotland", "Wales"]
        };

        // Populate country select element
        $.each(countries, function(key, value) {
            $("#countrySelect").append($("<option></option>").attr("value", key).text(value));
        });

        // Populate region select element based on selected country
        $("#countrySelect").change(function() {
            var countryCode = $(this).val();
            $("#regionSelect").empty().append($("<option></option>").attr("value", "").text("-- Select Region --"));

            if (countryCode) {
                $.each(regions[countryCode], function(index, value) {
                    $("#regionSelect").append($("<option></option>").attr("value", value).text(value));
                });
            }
        });

        // Handle form submission for adding new region
        $("#addRegionForm").submit(function(event) {
            event.preventDefault();

            var regionName = $("#regionName").val();
            var regionCountry = $("#regionCountry").val();

            // Here you can add your code to save the new region, e.g., an AJAX request

            // Close the offcanvas
            var offcanvas = bootstrap.Offcanvas.getInstance(document.getElementById('addRegionOffcanvas'));
            offcanvas.hide();
        });
    });
</script>
</body>
</html>
